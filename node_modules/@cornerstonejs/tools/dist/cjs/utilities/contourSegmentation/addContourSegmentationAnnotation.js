"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addContourSegmentationAnnotation = void 0;
const segmentationState_1 = require("../../stateManagement/segmentation/segmentationState");
function addContourSegmentationAnnotation(annotation) {
    if (annotation.parentAnnotationUID) {
        return;
    }
    if (!annotation.data.segmentation) {
        throw new Error('addContourSegmentationAnnotation: annotation does not have a segmentation data');
    }
    const { segmentationId, segmentIndex } = annotation.data.segmentation;
    const segmentation = (0, segmentationState_1.getSegmentation)(segmentationId);
    if (!segmentation.representationData.CONTOUR) {
        segmentation.representationData.CONTOUR = { annotationUIDsMap: new Map() };
    }
    const { annotationUIDsMap } = segmentation.representationData.CONTOUR;
    let annotationsUIDsSet = annotationUIDsMap.get(segmentIndex);
    if (!annotationsUIDsSet) {
        annotationsUIDsSet = new Set();
        annotationUIDsMap.set(segmentIndex, annotationsUIDsSet);
    }
    annotationUIDsMap.set(segmentIndex, annotationsUIDsSet.add(annotation.annotationUID));
}
exports.addContourSegmentationAnnotation = addContourSegmentationAnnotation;
//# sourceMappingURL=addContourSegmentationAnnotation.js.map