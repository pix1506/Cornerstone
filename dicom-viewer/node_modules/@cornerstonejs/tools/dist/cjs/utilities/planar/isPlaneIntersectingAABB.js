"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isPlaneIntersectingAABB = void 0;
const gl_matrix_1 = require("gl-matrix");
const isPlaneIntersectingAABB = (origin, normal, minX, minY, minZ, maxX, maxY, maxZ) => {
    const vertices = [
        gl_matrix_1.vec3.fromValues(minX, minY, minZ),
        gl_matrix_1.vec3.fromValues(maxX, minY, minZ),
        gl_matrix_1.vec3.fromValues(minX, maxY, minZ),
        gl_matrix_1.vec3.fromValues(maxX, maxY, minZ),
        gl_matrix_1.vec3.fromValues(minX, minY, maxZ),
        gl_matrix_1.vec3.fromValues(maxX, minY, maxZ),
        gl_matrix_1.vec3.fromValues(minX, maxY, maxZ),
        gl_matrix_1.vec3.fromValues(maxX, maxY, maxZ),
    ];
    const normalVec = gl_matrix_1.vec3.fromValues(normal[0], normal[1], normal[2]);
    const originVec = gl_matrix_1.vec3.fromValues(origin[0], origin[1], origin[2]);
    const planeDistance = -gl_matrix_1.vec3.dot(normalVec, originVec);
    let initialSign = null;
    for (const vertex of vertices) {
        const distance = gl_matrix_1.vec3.dot(normalVec, vertex) + planeDistance;
        if (initialSign === null) {
            initialSign = Math.sign(distance);
        }
        else if (Math.sign(distance) !== initialSign) {
            return true;
        }
    }
    return false;
};
exports.isPlaneIntersectingAABB = isPlaneIntersectingAABB;
//# sourceMappingURL=isPlaneIntersectingAABB.js.map